var _0x31c5=["INSERT OR REPLACE INTO storenames VALUES (?, ?)","storename","SELECT * FROM storenames ORDER BY rowid ASC","anns",'CREATE TABLE IF NOT EXISTS anns (          version INTEGER NOT NULL DEFAULT 0,          blockNumber INTEGER NOT NULL DEFAULT 0,          payload TEXT NOT NULL DEFAULT "")',"CREATE INDEX IF NOT EXISTS anns_version_idx ON anns (version ASC)","INSERT OR REPLACE INTO anns VALUES (?, ?, ?)","SELECT * FROM anns ORDER BY rowid ASC","ipfsHashes","emarket.db.ipfsHashes","CREATE INDEX IF NOT EXISTS ipfsHashes_hashData_idx ON ipfsHashes (hashData ASC)","CREATE INDEX IF NOT EXISTS ipfsHashes_sender_idx ON ipfsHashes (sender ASC)","CREATE INDEX IF NOT EXISTS ipfsHashes_version_idx ON ipfsHashes (version ASC)","CREATE INDEX IF NOT EXISTS ipfsHashes_blockNumber_idx ON ipfsHashes (blockNumber ASC)","CREATE INDEX IF NOT EXISTS ipfsHashes_timestamp_idx ON ipfsHashes (timestamp ASC)","hashData","SELECT * FROM ipfsHashes ORDER BY rowid ASC","SELECT * FROM ipfsHashes WHERE hashData = ?","blacklists","emarket.db.blacklists",'CREATE TABLE IF NOT EXISTS blacklists (          address VARCHAR(50) PRIMARY KEY NOT NULL,          contractAddress VARCHAR(50) NOT NULL DEFAULT "",          blacklisted INTEGER NOT NULL DEFAULT 0)',"CREATE INDEX IF NOT EXISTS blacklists_contractAddress_idx ON blacklists (contractAddress ASC)","INSERT OR REPLACE INTO blacklists VALUES (?, ?, ?)","blacklist","blacklisted","SELECT * FROM blacklists WHERE address = ?","transactions","emarket.db.transactions","CREATE TABLE IF NOT EXISTS transactions (          recipents VARCHAR(70) NOT NULL,          amount VARCHAR(50) NOT NULL DEFAULT 0,          wallet INTEGER NOT NULL DEFAULT 0,           timestamp INTEGER NOT NULL DEFAULT 0)","CREATE INDEX IF NOT EXISTS transactions_recipents_idx ON transactions (recipents ASC)","CREATE INDEX IF NOT EXISTS transactions_timestamp_idx ON transactions (timestamp ASC)","INSERT INTO transactions VALUES (?, ?, ?, ?)","wallet","SELECT * FROM transactions WHERE wallet = ?  ORDER BY timestamp DESC","migrate","emarket.db.migrate","isTesting","filter","processed","create tables","exports","defineProperty","toStringTag","Module","object","__esModule","create","default","string","prototype","hasOwnProperty","call","defaults","1.0.0","isTestnet","privateTestnet","privateTestnetId","marketVersion","nonceDuplicateRetries","nonceDuplicateInterval","gasPrice","startBlock","ethRpcHosts","https://mainnet.infura.io/mew","https://ropsten.infura.io/mew","https://api.myetherwallet.com/rop","http://46.101.204.158:8546","hostsProxies","http://142.44.243.63:3128","ethTimeoutBlocks","http://79.8.124.99:18545/api","http://91.235.72.49:18545/api","cachingAllow","cachingRetries","proxyAllow","defaultEscrowFeePromille","defaultEscrowRewardPromille","sqlite3","block.sqlite","path","electron","app","argv","first","second","join","getPath","documents",".sqlite","useSqlite","open","log","Database","use","error","close","testdata","emarket.testdata","allListings","Test Kitten #99","0xaf5763d89a71439677399808886886363b84180eca126240d2014e4246be6730","0xa820f527c6cdcf56e0dd53f047ddf50841f1b449","1473619795","0x4460f4c8edbca96f9db17ef95aaf329eddaeac29","0xcb5b318d3392366a9dfb075e3b27fe3a7a228c59","9.9999e+22","ETH","Test Kitten #42","test","0xd054c5a6645d7a854b7357449b971dd264f216f3","1473620667","555000000000000000000","555","Robot Cat","COLLECT","http://r.ddmcdn.com/w_609/s_f/o_1/cx_0/cy_15/cw_609/ch_406/APL/uploads/2014/06/02-kitten-cuteness-1.jpg","3.333e+21","3333","Cute Kitten","ENTERTAIN","One small kitten.","http://r.ddmcdn.com/w_606/s_f/o_1/cx_0/cy_15/cw_606/ch_404/APL/uploads/2014/06/01-kitten-cuteness-1.jpg","0x45ae91b4e1135b4183728864511ac5aff937b8fb","1473672366","22222","Murder Kitten","tag2","This kitten thinks about nothing but murder all day.","http://r.ddmcdn.com/w_603/s_f/o_1/cx_0/cy_15/cw_603/ch_402/APL/uploads/2014/06/05-kitten-cuteness-1.jpg","0xb4430250e5355c6f9011458fca1a0570b0c925ad","1473672551","2244973","1.111e+21","1111","http://r.ddmcdn.com/w_624/s_f/o_1/cx_0/cy_17/cw_624/ch_416/APL/uploads/2014/06/ep220-01-625x450.jpg","0x398859eeea449dc60a21ffd30e0cb8f5cbf67591","1473673465","2245034","1.2345e+22","Holiday Kitty","ELECTRON","Christmas Cat","0x973ec555e2a501ea2190e0a7e9e9f47e5ad7336c","1473674430","2245104","88000000000000000000","sellItemHash","0xdd0e543654c6309409af8a2a718ddbc0a3f941838c037ef4538d5a9dc80e7e8c","buyItemHash","cancelItemHash","acceptItemHash","rejectItemHash","openDisputeItemHash","closeDisputeItemHash","claimDisputeItemHash","DiiZ11ihnZzon8+hfEuWlkZKPhQ1ohxV8VNVMWyLoyo=","0x95cba97f5c9013daaa20e1a5ad1d43da","aes-256-cbc","lPuK2WFIozQZMek3tvApQHdjTmsbbsooGk5+ch8oAPrDPpu/d+cS9izI0CBYqoF994Wr7ytWgi2+0OzpqhL2QYacYTxLNtS+vtiuQZ2aXhc=","0x0b16c2009704a8047d99639fe2cbb099936216f48312f2d8226c4a2a96da0974","2241315","0x44791e6990ce47fe7a906b0338d27650d55122f8","7720153675935269715","9.0000e+22","0x47a4a24d919e87dd994ba1bd31d86879","1473619895","2241317","12790250850146722829","0x63b050bc7b64c9c7ac6347aea018848d","Oa5T2SmQYiJSiHJ75u7K9P2xWsMNQqSBYjyHjxr2VUtrDdWHi559DoOlDl228Cphv8MWTakVJ8OhH5+c9yS6wpYKQulVMqK4ITxpTq5HNB4=","0xa5c4c18263d8b991d265fc6f4e2d9a45","Zj23D3B1zC4ZPZrkcj4xwlQQOvrwZWQX7AqQyP93agI=","0xf3bc67e966d2c39aea2291fa03157f3f","1473619995","2241318","async","events","serialize","run",'CREATE TABLE IF NOT EXISTS events (          transactionHash VARCHAR(70) NOT NULL,          contractAddress VARCHAR(50) NOT NULL DEFAULT "",          logIndex INTEGER NOT NULL DEFAULT 0,          synced INTEGER NOT NULL DEFAULT 0,          version INTEGER NOT NULL DEFAULT 0,          sender VARCHAR(40) NOT NULL DEFAULT "",          eventType INTEGER NOT NULL DEFAULT 0,          blockNumber INTEGER NOT NULL DEFAULT 0,          timestamp INTEGER NOT NULL DEFAULT 0,          payment VARCHAR(40) NOT NULL DEFAULT "0",           payload TEXT NOT NULL DEFAULT "",           PRIMARY KEY(transactionHash, contractAddress, logIndex))',"CREATE INDEX IF NOT EXISTS events_contractAddress_idx ON events (contractAddress ASC)","CREATE INDEX IF NOT EXISTS events_synced_idx ON events (synced ASC)","CREATE INDEX IF NOT EXISTS events_sender_idx ON events (sender ASC)","CREATE INDEX IF NOT EXISTS events_eventType_idx ON events (eventType ASC)","CREATE INDEX IF NOT EXISTS events_timestamp_idx ON events (timestamp ASC)","CREATE INDEX IF NOT EXISTS events_payment_idx ON events (payment ASC)","insert","push","transactionHash","address","logIndex","version","sender","eventType","blockNumber","timestamp","payment","payload","selectWithAddress","length","contractAddress","result","items","all","SELECT * FROM events WHERE contractAddress = ? ORDER BY rowid ASC","selectWithHash","SELECT * FROM events WHERE transactionHash = ? AND contractAddress = ? AND logIndex = ?","selectWithSynced","synced","selectWithAddressAndSynced","selectWithTimestamp","SELECT * FROM events WHERE timestamp > ? ORDER BY rowid ASC","contracts","myname","emarket.db.contracts","contentCount","select","item","SELECT * FROM contracts WHERE address = ?","orders",'CREATE TABLE IF NOT EXISTS orders (          transactionHash VARCHAR(70) NOT NULL,          contractAddress VARCHAR(50) NOT NULL DEFAULT "",          logIndex INTEGER NOT NULL DEFAULT 0,          version INTEGER NOT NULL DEFAULT 0,          sender VARCHAR(50) NOT NULL DEFAULT "",          recipient VARCHAR(50) NOT NULL DEFAULT "",          eventType INTEGER NOT NULL DEFAULT 0,          blockNumber INTEGER NOT NULL DEFAULT 0,          timestamp INTEGER NOT NULL DEFAULT 0,          tradeId VARCHAR(40) NOT NULL DEFAULT "",          payload TEXT NOT NULL DEFAULT "",          PRIMARY KEY(transactionHash, contractAddress, logIndex))',"CREATE INDEX IF NOT EXISTS orders_version_idx ON orders (version ASC)","CREATE INDEX IF NOT EXISTS orders_eventType_idx ON orders (eventType ASC)","CREATE INDEX IF NOT EXISTS orders_timestamp_idx ON orders (timestamp ASC)","CREATE INDEX IF NOT EXISTS orders_tradeId ON orders (tradeId ASC)","INSERT OR REPLACE INTO orders VALUES (?, ?, ?, ?, ?, ?,  ?, ?, ?, ?, ?)","tradeId","SELECT * FROM orders ORDER BY rowid ASC","WE have an error here","SELECT * FROM orders WHERE contractAddress = ? AND tradeId = ? ORDER BY rowid ASC","selectWithTradeId","SELECT * FROM orders WHERE tradeId = ? ORDER BY rowid ASC","SELECT * FROM orders WHERE contractAddress = ? AND eventType = ? ORDER BY rowid ASC","listings","emarket.db.listings",'CREATE TABLE IF NOT EXISTS listings (          address VARCHAR(50) PRIMARY KEY NOT NULL,          title TEXT NOT NULL DEFAULT "",           sender VARCHAR(50) NOT NULL DEFAULT "",          version INTEGER NOT NULL DEFAULT 0,          blockNumber INTEGER NOT NULL DEFAULT 0,          timestamp INTEGER NOT NULL DEFAULT 0,          timespan INTEGER NOT NULL DEFAULT 0,          endTimestamp INTEGER NOT NULL DEFAULT 0,          category VARCHAR(40) NOT NULL DEFAULT "",           tag1 VARCHAR(40) NOT NULL DEFAULT "",           tag2 VARCHAR(40) NOT NULL DEFAULT "",           tag3 VARCHAR(40) NOT NULL DEFAULT "",           currency VARCHAR(40) NOT NULL DEFAULT "",          region VARCHAR(100) NOT NULL DEFAULT "",          origin VARCHAR(40) NOT NULL DEFAULT "",          escrow VARCHAR(40) NOT NULL DEFAULT "",          status INTEGER NOT NULL DEFAULT 0,          price VARCHAR(40) NOT NULL DEFAULT "0",           saleCount INTEGER NOT NULL DEFAULT 0,          availableCount INTEGER NOT NULL DEFAULT 0,          pendingCount INTEGER NOT NULL DEFAULT 0,          hashIpfs VARCHAR(65) NOT NULL DEFAULT "",          addressIpfs VARCHAR(50) NOT NULL DEFAULT "1",          payload TEXT NOT NULL DEFAULT "")',"CREATE INDEX IF NOT EXISTS listings_adress_idx ON listings (address ASC)","CREATE INDEX IF NOT EXISTS listings_title_idx ON listings (title ASC)","CREATE INDEX IF NOT EXISTS listings_timespan_idx ON listings (timespan ASC)","CREATE INDEX IF NOT EXISTS listings_endTimestamp_idx ON listings (endTimestamp ASC)","CREATE INDEX IF NOT EXISTS listings_category_idx ON listings (category ASC)","CREATE INDEX IF NOT EXISTS listings_tag1_idx ON listings (tag1 ASC)","CREATE INDEX IF NOT EXISTS listings_tag2_idx ON listings (tag2 ASC)","CREATE INDEX IF NOT EXISTS listings_tag3_idx ON listings (tag3 ASC)","CREATE INDEX IF NOT EXISTS listings_region_idx ON listings (region ASC)","CREATE INDEX IF NOT EXISTS listings_origin_idx ON listings (origin ASC)","CREATE INDEX IF NOT EXISTS listings_status_idx ON listings (status ASC)","CREATE INDEX IF NOT EXISTS listings_saleCount_idx ON listings (saleCount ASC)","CREATE INDEX IF NOT EXISTS listings_availableCount_idx ON listings (availableCount ASC)","CREATE INDEX IF NOT EXISTS listings_pendingCount_idx ON listings (pendingCount ASC)","INSERT OR REPLACE INTO listings VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","title","timespan","category","tag1","tag3","region","origin","escrow","status","price","saleCount","availableCount","pendingCount","addressIpfs","delete","SELECT * FROM listings ORDER BY rowid ASC","adress","SELECT * FROM listings WHERE address = ?","selectWithSender","selectWithIpfsAddressSender","hashIpfs","selectWithMyPurchases","WHERE (orders.eventType = 1 OR orders.eventType = 5) AND orders.sender = ? ","SELECT * from listings where sender IN(","transactionLog",'CREATE TABLE IF NOT EXISTS transactionLog (          title VARCHAR(50) NOT NULL,          status VARCHAR(50) NOT NULL,          id INTEGER NOT NULL DEFAULT 0,          timestamp INTEGER NOT NULL DEFAULT 0,          item VARCHAR(70) NOT NULL DEFAULT "",          hash VARCHAR(70) NOT NULL DEFAULT "",          payload TEXT NOT NULL DEFAULT "",          PRIMARY KEY(id))',"getAll","SELECT * FROM transactionLog ORDER BY timestamp DESC","TRANSACTION_INITIATED","clearAll","DELETE FROM transactionLog","feedbbt","CREATE INDEX IF NOT EXISTS feedbbt_blockNumber_idx ON feedbbt (blockNumber ASC)","CREATE INDEX IF NOT EXISTS feedbbt_timestamp_idx ON feedbbt (timestamp ASC)","INSERT OR REPLACE INTO feedbbt VALUES (?, ?, ?, ?)","SELECT * FROM feedbbt WHERE transactionHash = ?","getBBTRate","get","SELECT * FROM feedbbt WHERE blockNumber <= ? ORDER BY blockNumber DESC LIMIT 1","undefined","No feedbbt records found","escrows","emarket.db.escrows",'CREATE TABLE IF NOT EXISTS escrows (          address VARCHAR(50) PRIMARY KEY NOT NULL,          height INTEGER NOT NULL DEFAULT 0,          arbiter VARCHAR(50) NOT NULL DEFAULT "",          freezePeriod  INTEGER NOT NULL DEFAULT 0,          feePromille INTEGER NOT NULL DEFAULT 0,          rewardPromille INTEGER NOT NULL DEFAULT 0)',"CREATE INDEX IF NOT EXISTS escrows_arbiter_idx ON escrows (arbiter ASC)","CREATE INDEX IF NOT EXISTS escrows_freezePeriod_idx ON escrows (freezePeriod ASC)","CREATE INDEX IF NOT EXISTS escrows_feePromille_idx ON escrows (feePromille ASC)","CREATE INDEX IF NOT EXISTS escrows_rewardPromille_idx ON escrows (rewardPromille ASC)","INSERT OR REPLACE INTO escrows VALUES (?, ?, ?, ?, ?, ?)","height","arbiter","freezePeriod","SELECT * FROM escrows WHERE address = ?","ipfsListings","CREATE INDEX IF NOT EXISTS ipfsListings_hashIpfs_idx ON ipfsListings (hashIpfs ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_addressIpfs_idx ON ipfsListings (addressIpfs ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_title_idx ON ipfsListings (title ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_sender_idx ON ipfsListings (sender ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_version_idx ON ipfsListings (version ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_blockNumber_idx ON ipfsListings (blockNumber ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_timestamp_idx ON ipfsListings (timestamp ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_timespan_idx ON ipfsListings (timespan ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_endTimestamp_idx ON ipfsListings (endTimestamp ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_category_idx ON ipfsListings (category ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_tag1_idx ON ipfsListings (tag1 ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_tag2_idx ON ipfsListings (tag2 ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_tag3_idx ON ipfsListings (tag3 ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_region_idx ON ipfsListings (region ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_origin_idx ON ipfsListings (origin ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_status_idx ON ipfsListings (status ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_price_idx ON ipfsListings (price ASC)","CREATE INDEX IF NOT EXISTS ipfsListings_saleCount_idx ON ipfsListings (saleCount ASC)","endTimestamp","currency","SELECT * FROM ipfsListings ORDER BY rowid ASC","SELECT * FROM ipfsListings ORDER BY rowid ASC WHERE sender = ?","selectWithHashes","forEach","query by hashString","SELECT * FROM ipfsListings WHERE hashIpfs IN (","SELECT * FROM ipfsListings WHERE hashIpfs = ?","SELECT * FROM ipfsListings WHERE hashIpfs = ? AND addressIpfs = ?","SELECT * FROM ipfsListings WHERE sender = ? ORDER BY rowid ASC","SELECT ipfsListings.* FROM ipfsListings JOIN orders ON ipfsListings.escrow = orders.contractAddress COLLATE NOCASE WHERE orders.eventType = 14 AND orders.sender = ? COLLATE NOCASE Group by ipfsListings.hashIpfs","selectIPFSSelectedStore","SELECT * from ipfsListings where sender IN(","map","storenames","emarket.db.storenames","CREATE TABLE IF NOT EXISTS storenames (          address VARCHAR(50) PRIMARY KEY,           storename VARCHAR(200) NOT NULL)","CREATE UNIQUE INDEX IF NOT EXISTS storenames_address_idx ON storenames (address)"];!function(x,e){!function(e){for(;--e;)x.push(x.shift())}(++e)}(_0x31c5,382);var _0x522f=function(x,e){return _0x31c5[x-=0]};module.exports=function(x){var e={};function f(d){if(e[d])return e[d][_0x522f("0x0")];var t=e[d]={i:d,l:!1,exports:{}};return x[d].call(t[_0x522f("0x0")],t,t.exports,f),t.l=!0,t[_0x522f("0x0")]}return f.m=x,f.c=e,f.d=function(x,e,d){f.o(x,e)||Object[_0x522f("0x1")](x,e,{enumerable:!0,get:d})},f.r=function(x){"undefined"!=typeof Symbol&&Symbol[_0x522f("0x2")]&&Object[_0x522f("0x1")](x,Symbol[_0x522f("0x2")],{value:_0x522f("0x3")}),Object[_0x522f("0x1")](x,"__esModule",{value:!0})},f.t=function(x,e){if(1&e&&(x=f(x)),8&e)return x;if(4&e&&typeof x===_0x522f("0x4")&&x&&x[_0x522f("0x5")])return x;var d=Object[_0x522f("0x6")](null);if(f.r(d),Object[_0x522f("0x1")](d,_0x522f("0x7"),{enumerable:!0,value:x}),2&e&&typeof x!=_0x522f("0x8"))for(var t in x)f.d(d,t,function(e){return x[e]}.bind(null,t));return d},f.n=function(x){var e=x&&x.__esModule?function(){return x[_0x522f("0x7")]}:function(){return x};return f.d(e,"a",e),e},f.o=function(x,e){return Object[_0x522f("0x9")][_0x522f("0xa")][_0x522f("0xb")](x,e)},f.p="",f(f.s=68)}([function(x,e){var f={};f[_0x522f("0xc")]=function(){};var d=f.defaults;d.version=_0x522f("0xd"),d.isTesting=!1,d[_0x522f("0xe")]=!0,d[_0x522f("0xf")]=!1,d[_0x522f("0x10")]=15,d[_0x522f("0x11")]=1,d[_0x522f("0x12")]=5,d[_0x522f("0x13")]=1e3,d.gasPrice="3000000000",d.isTestnet&&(d[_0x522f("0x14")]="5000000000"),d.startBlock=5850262,d[_0x522f("0xe")]&&(d.startBlock=42e5),d[_0x522f("0xe")]&&d[_0x522f("0xf")]&&(d[_0x522f("0x15")]=0),d[_0x522f("0x16")]=[_0x522f("0x17"),"https://api.myetherwallet.com/eth"],d.isTestnet&&(d.ethRpcHosts=[_0x522f("0x18"),_0x522f("0x19")]),d[_0x522f("0xe")]&&d.privateTestnet&&(d[_0x522f("0x16")]=[_0x522f("0x1a")]),d[_0x522f("0x1b")]=[],d[_0x522f("0xe")]&&(d[_0x522f("0x1b")]=[_0x522f("0x1c")]),d.ethRpcRetries=5,d[_0x522f("0x1d")]=50,d.cachingServers=[_0x522f("0x1e"),_0x522f("0x1f")],d[_0x522f("0xe")]&&(d.cachingServers=[]),d[_0x522f("0x20")]=!1,d[_0x522f("0x21")]=3,d[_0x522f("0x22")]=!1,d.defaultFeeEther="0.01",d.defaultExpireTime=2419200,d.doubleExpireTime=4838400,d.defaultFreezeTime=2592e3,d[_0x522f("0x23")]=0,d[_0x522f("0x24")]=10,d.defaultLockTimeoutBlocks=6e4,x[_0x522f("0x0")]=d},function(x,e,f){var d={};d[_0x522f("0x25")]=f(6);var t={};t[_0x522f("0xc")]=f(0),t.db={},t.db.db=function(){};var s,r=t.db.db;if(r.db,r.path=_0x522f("0x26"),d[_0x522f("0x27")]=f(8),d[_0x522f("0x28")]=f(9),d[_0x522f("0x28")]&&(s=d.electron[_0x522f("0x29")]),s&&s.getPath){let x=process[_0x522f("0x2a")][2];x||(x=process[_0x522f("0x2a")][1]);let e="-"+x;(!x||x!=_0x522f("0x2b")&&x!=_0x522f("0x2c"))&&(e=""),r.path=d[_0x522f("0x27")][_0x522f("0x2d")](s[_0x522f("0x2e")](_0x522f("0x2f")),"bitboost"+e+".sqlite"),t[_0x522f("0xc")].isTestnet&&(dbName=d[_0x522f("0x27")][_0x522f("0x2d")](s[_0x522f("0x2e")](_0x522f("0x2f")),"bitboost-testnet"+e+_0x522f("0x30")))}r[_0x522f("0x31")]=!0,r[_0x522f("0x32")]=function(x){r[_0x522f("0x27")]=x,console[_0x522f("0x33")]("open DB",x),r.db=new(d.sqlite3[_0x522f("0x34")])(x)},r.close=function(){try{r.db&&r.db.close()}catch(x){}},r[_0x522f("0x35")]=function(x,e){r.db=new(d[_0x522f("0x25")][_0x522f("0x34")])(r[_0x522f("0x27")],function(f){if(f)e({result:_0x522f("0x36"),error:f});else try{x(function(x){e(x)})}catch(x){return r[_0x522f("0x37")](),void e({result:_0x522f("0x36"),error:x})}})},x[_0x522f("0x0")]=r},function(x,e){var f={testdata:function(){}},d=f[_0x522f("0x38")];d.myname=_0x522f("0x39"),d[_0x522f("0x3a")]=[{title:_0x522f("0x3b"),cat:["PET"],tags:["test"],description:"Just a test kitten.",img:[""],pubkey:_0x522f("0x3c"),address:_0x522f("0x3d"),timestamp:_0x522f("0x3e"),height:"2241315",timespan:1209600,endTimestamp:1474829395,sender:_0x522f("0x3f"),escrow:_0x522f("0x40"),status:1,saleCount:3,price:_0x522f("0x41"),availableCount:3,pendingCount:0,currency:_0x522f("0x42"),priceEth:"99999"},{title:_0x522f("0x43"),cat:["COLLECT"],tags:[_0x522f("0x44"),"tag2"],description:"Test of kitten listing with no escrow provider indicated.",img:[""],pubkey:_0x522f("0x3c"),address:_0x522f("0x45"),timestamp:_0x522f("0x46"),height:"2241374",timespan:1209600,endTimestamp:1474830267,sender:_0x522f("0x3f"),escrow:_0x522f("0x40"),status:1,saleCount:1,price:_0x522f("0x47"),availableCount:1,pendingCount:0,currency:_0x522f("0x42"),priceEth:_0x522f("0x48")},{title:_0x522f("0x49"),cat:[_0x522f("0x4a")],tags:[_0x522f("0x44")],description:"Robotic kitten",img:[_0x522f("0x4b")],pubkey:_0x522f("0x3c"),address:"0x7a2bac051a167e7850207951f1ae0e1045a50340",timestamp:"1473672098",height:"2244937",timespan:1209600,endTimestamp:1474881698,sender:_0x522f("0x3f"),escrow:_0x522f("0x40"),status:1,saleCount:3,price:_0x522f("0x4c"),availableCount:3,pendingCount:0,currency:_0x522f("0x42"),priceEth:_0x522f("0x4d")},{title:_0x522f("0x4e"),cat:[_0x522f("0x4f")],tags:[_0x522f("0x44")],description:_0x522f("0x50"),img:[_0x522f("0x51")],pubkey:_0x522f("0x3c"),address:_0x522f("0x52"),timestamp:_0x522f("0x53"),height:"2244961",timespan:1209600,endTimestamp:1474881966,sender:_0x522f("0x3f"),escrow:"0xcb5b318d3392366a9dfb075e3b27fe3a7a228c59",status:1,saleCount:1,price:"2.2222e+22",availableCount:1,pendingCount:0,currency:"ETH",priceEth:_0x522f("0x54")},{title:_0x522f("0x55"),cat:["BUSINESS"],tags:[_0x522f("0x44"),_0x522f("0x56")],description:_0x522f("0x57"),img:[_0x522f("0x58")],pubkey:_0x522f("0x3c"),address:_0x522f("0x59"),timestamp:_0x522f("0x5a"),height:_0x522f("0x5b"),timespan:1209600,endTimestamp:1474882151,sender:_0x522f("0x3f"),escrow:"0xcb5b318d3392366a9dfb075e3b27fe3a7a228c59",status:1,saleCount:1,price:_0x522f("0x5c"),availableCount:1,pendingCount:0,currency:_0x522f("0x42"),priceEth:_0x522f("0x5d")},{title:"Beach Kitten",cat:[_0x522f("0x4a")],tags:[_0x522f("0x44")],description:"Surfinâ€™ kitty.",img:[_0x522f("0x5e")],pubkey:"0xaf5763d89a71439677399808886886363b84180eca126240d2014e4246be6730",address:_0x522f("0x5f"),timestamp:_0x522f("0x60"),height:_0x522f("0x61"),timespan:1209600,endTimestamp:1474883065,sender:_0x522f("0x3f"),escrow:_0x522f("0x40"),status:1,saleCount:1,price:_0x522f("0x62"),availableCount:1,pendingCount:0,currency:_0x522f("0x42"),priceEth:"12345"},{title:_0x522f("0x63"),cat:[_0x522f("0x64")],tags:[_0x522f("0x44")],description:_0x522f("0x65"),img:["http://r.ddmcdn.com/w_621/s_f/o_1/cx_0/cy_16/cw_621/ch_414/APL/uploads/2014/06/too-cute-3-622.png"],pubkey:_0x522f("0x3c"),address:_0x522f("0x66"),timestamp:_0x522f("0x67"),height:_0x522f("0x68"),timespan:1209600,endTimestamp:1474884030,sender:"0x4460f4c8edbca96f9db17ef95aaf329eddaeac29",escrow:_0x522f("0x40"),status:1,saleCount:1,price:_0x522f("0x69"),availableCount:1,pendingCount:0,currency:_0x522f("0x42"),priceEth:"88"}],d[_0x522f("0x6a")]=_0x522f("0x6b"),d[_0x522f("0x6c")]=_0x522f("0x6b"),d[_0x522f("0x6d")]=_0x522f("0x6b"),d[_0x522f("0x6e")]=_0x522f("0x6b"),d[_0x522f("0x6f")]=_0x522f("0x6b"),d[_0x522f("0x70")]=_0x522f("0x6b"),d[_0x522f("0x71")]=_0x522f("0x6b"),d[_0x522f("0x72")]=_0x522f("0x6b"),d.itemOrders={"0xa820f527c6cdcf56e0dd53f047ddf50841f1b449":[{tradeId:"7720153675935269715",eventType:1,count:2,payment:_0x522f("0x41"),dataInfo:{private:{msg:_0x522f("0x73"),iv:_0x522f("0x74"),cipher:_0x522f("0x75"),key:{enc:{msg:_0x522f("0x76"),iv:"0x4f2977ae2c00552b4074e499ecf01292",cipher:_0x522f("0x75"),nonce:"0xb6826234e3efe1d9912e397e9d2f71f0ff72d29fe10733516ea713ea32a61e0d"}},pubkey:_0x522f("0x77")}},timestamp:_0x522f("0x3e"),height:_0x522f("0x78"),sender:_0x522f("0x79")},{tradeId:_0x522f("0x7a"),eventType:2,count:2,payment:_0x522f("0x7b"),dataInfo:{private:{msg:"eUzV4mUEjv6iMh3frcIDCg33nqtYUHfZLoygbTcKS9U=",iv:_0x522f("0x7c"),cipher:_0x522f("0x75"),pubkey:_0x522f("0x3c")}},timestamp:_0x522f("0x7d"),height:_0x522f("0x7e"),sender:_0x522f("0x3f")}],"0xd054c5a6645d7a854b7357449b971dd264f216f3":[{tradeId:_0x522f("0x7f"),eventType:1,count:1,payment:_0x522f("0x47"),dataInfo:{private:{msg:"pvtIxInyie4ikbiftdFZikc5EYcDGA5C/dRRwfqQLYiAa22ZqEvAm/A07x9jl7103HTM55ZUNGoNDoQ7ZC83rA==",iv:_0x522f("0x80"),cipher:_0x522f("0x75"),key:{enc:{msg:_0x522f("0x81"),iv:_0x522f("0x82"),cipher:_0x522f("0x75"),nonce:"0xef045fbf44eadc8f4188b16251f8fd1bb9b2787078d32e63dcb9a7b2abc310de"}},pubkey:"0x0b16c2009704a8047d99639fe2cbb099936216f48312f2d8226c4a2a96da0974"}},timestamp:_0x522f("0x3e"),height:"2241315",sender:_0x522f("0x79")},{tradeId:_0x522f("0x7f"),eventType:2,count:1,payment:"550000000000000000000",dataInfo:{private:{msg:_0x522f("0x83"),iv:_0x522f("0x84"),cipher:_0x522f("0x75"),pubkey:"0xaf5763d89a71439677399808886886363b84180eca126240d2014e4246be6730"}},timestamp:_0x522f("0x85"),height:_0x522f("0x86"),sender:_0x522f("0x3f")}]},x[_0x522f("0x0")]=d},function(x,e){x[_0x522f("0x0")]=require(_0x522f("0x87"))},,,function(x,e){x[_0x522f("0x0")]=require(_0x522f("0x25"))},,function(x,e){x[_0x522f("0x0")]=require("path")},function(x,e){x[_0x522f("0x0")]=require(_0x522f("0x28"))},function(x,e,f){var d={};d[_0x522f("0xc")]=f(0),d[_0x522f("0x38")]=f(2),d.db={},d.db.db=f(1),d.db[_0x522f("0x88")]=function(){};var t=d.db[_0x522f("0x88")];t.myname="emarket.db.events";var s=[];t.create=function(x){if(!d.db.db.useSqlite)return s=[],void x({result:"ok"});d.db.db[_0x522f("0x35")](function(x){d.db.db.db[_0x522f("0x89")](function(){d.db.db.db[_0x522f("0x8a")](_0x522f("0x8b")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x8c")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x8d")),d.db.db.db.run("CREATE INDEX IF NOT EXISTS events_version_idx ON events (version ASC)"),d.db.db.db[_0x522f("0x8a")](_0x522f("0x8e")),d.db.db.db.run(_0x522f("0x8f")),d.db.db.db.run("CREATE INDEX IF NOT EXISTS events_blockNumber_idx ON events (blockNumber ASC)"),d.db.db.db[_0x522f("0x8a")](_0x522f("0x90")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x91")),x({result:"ok"})})},x)},t[_0x522f("0x92")]=function(x,e){if(!d.db.db[_0x522f("0x31")])return s[_0x522f("0x93")](x),void e({result:"ok"});d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0x8a")]("INSERT OR REPLACE INTO events VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[x[_0x522f("0x94")],x[_0x522f("0x95")],x[_0x522f("0x96")],x.synced?1:0,x[_0x522f("0x97")],x[_0x522f("0x98")],x[_0x522f("0x99")],x[_0x522f("0x9a")],x[_0x522f("0x9b")],x[_0x522f("0x9c")],x[_0x522f("0x9d")]],function(x){e(x?{result:_0x522f("0x36"),error:x}:{result:"ok"})})},e)},t[_0x522f("0x9e")]=function(x,e){var f={};if(!d.db.db.useSqlite){for(var t=s,r=[],i=0;i<t[_0x522f("0x9f")];i++){var n=t[i];n[_0x522f("0xa0")]==x&&r[_0x522f("0x93")](n)}return t=r,f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=t,void e(f)}d.db.db.use(function(e){d.db.db.db[_0x522f("0xa3")](_0x522f("0xa4"),[x],function(x,d){x?e({result:"error",error:x}):(f[_0x522f("0xa1")]="ok",f.items=d,e(f))})},e)},t[_0x522f("0xa5")]=function(x,e){var f={};if(!d.db.db[_0x522f("0x31")]){for(var t=s,r=[],i=0;i<t[_0x522f("0x9f")];i++){var n=t[i];n[_0x522f("0x94")]==x&&r[_0x522f("0x93")](n)}return t=r,f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=t,void e(f)}d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0xa3")]("SELECT * FROM events WHERE transactionHash = ?",[x],function(x,d){x?e({result:"error",error:x}):(f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=d,e(f))})},e)},t.selectWithHashAndContractAddress=function(x,e,f,t){var r={};if(!d.db.db.useSqlite){for(var i=s,n=[],_=0;_<i[_0x522f("0x9f")];_++){var a=i[_];a[_0x522f("0x94")]==x&&(a.contractAddress==e&&a[_0x522f("0x96")]==f&&n[_0x522f("0x93")](a))}return i=n,r[_0x522f("0xa1")]="ok",r.items=i,void t(r)}d.db.db.use(function(t){d.db.db.db[_0x522f("0xa3")](_0x522f("0xa6"),[x,e,f],function(x,e){x?t({result:"error",error:x}):(r.result="ok",r[_0x522f("0xa2")]=e,t(r))})},t)},t[_0x522f("0xa7")]=function(x,e){var f={};if(!d.db.db[_0x522f("0x31")]){for(var t=s,r=[],i=0;i<t[_0x522f("0x9f")];i++){var n=t[i];n[_0x522f("0xa8")]==(x?1:0)&&r[_0x522f("0x93")](n)}return t=r,f.result="ok",f[_0x522f("0xa2")]=t,void e(f)}d.db.db.use(function(e){d.db.db.db[_0x522f("0xa3")]("SELECT * FROM events WHERE synced = ? ORDER BY rowid ASC",[x?1:0],function(x,d){x?e({result:"error",error:x}):(f.result="ok",f[_0x522f("0xa2")]=d,e(f))})},e)},t[_0x522f("0xa9")]=function(x,e,f){var t={};if(!d.db.db[_0x522f("0x31")]){for(var r=s,i=[],n=0;n<r[_0x522f("0x9f")];n++){var _=r[n];_[_0x522f("0xa8")]==(e?1:0)&&(_[_0x522f("0xa0")]==x&&i[_0x522f("0x93")](_))}return r=i,t.result="ok",t[_0x522f("0xa2")]=r,void f(t)}d.db.db.use(function(f){d.db.db.db[_0x522f("0xa3")]("SELECT * FROM events WHERE contractAddress = ? AND synced = ? ORDER BY rowid ASC",[x,e?1:0],function(x,e){x?f({result:_0x522f("0x36"),error:x}):(t[_0x522f("0xa1")]="ok",t[_0x522f("0xa2")]=e,f(t))})},f)},t[_0x522f("0xaa")]=function(x,e){var f={};if(!d.db.db.useSqlite)return f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=[],void e(f);d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0xa3")](_0x522f("0xab"),[x/1e3],function(x,d){x?e({result:_0x522f("0x36"),error:x}):(f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=d,e(f))})},e)},x[_0x522f("0x0")]=t},,,,,,,,function(x,e,f){var d={};d.defaults=f(0),d.testdata=f(2),d.db={},d.db.db=f(1),d.db.contracts=function(){};var t=d.db[_0x522f("0xac")];t[_0x522f("0xad")]=_0x522f("0xae");var s={};t[_0x522f("0x6")]=function(x){if(!d.db.db[_0x522f("0x31")])return s={},void x({result:"ok"});d.db.db.use(function(x){d.db.db.db.serialize(function(){d.db.db.db.run('CREATE TABLE IF NOT EXISTS contracts (          address VARCHAR(50) PRIMARY KEY NOT NULL,          height INTEGER NOT NULL DEFAULT 0,          contentCount INTEGER NOT NULL DEFAULT 0,          contractCode TEXT NOT NULL DEFAULT "")'),x({result:"ok"})})},x)},t[_0x522f("0x92")]=function(x,e,f){if(!d.db.db.useSqlite)return s[x]=e,void f({result:"ok"});d.db.db[_0x522f("0x35")](function(f){d.db.db.db[_0x522f("0x8a")]("INSERT OR REPLACE INTO contracts VALUES (?, ?, ?, ?)",[x,e.height,e[_0x522f("0xaf")],e.contractCode],function(x){f(x?{result:_0x522f("0x36"),error:x}:{result:"ok"})})},f)},t[_0x522f("0xb0")]=function(x,e){var f={};if(!d.db.db[_0x522f("0x31")]){var t=s;return f[_0x522f("0xa1")]="ok",f[_0x522f("0xb1")]=t[x],void e(f)}d.db.db[_0x522f("0x35")](function(e){d.db.db.db.all(_0x522f("0xb2"),[x],function(d,t){d?e({result:"error",error:d}):(f[_0x522f("0xa1")]="ok",t&&0!=t.length?f[_0x522f("0xb1")]=t[0]:f[_0x522f("0xb1")]={address:x,height:0,contentCount:0,contractCode:""},e(f))})},e)},x[_0x522f("0x0")]=t},,function(x,e,f){var d={};d[_0x522f("0xc")]=f(0),d[_0x522f("0x38")]=f(2),d.db={},d.db.db=f(1),d.db[_0x522f("0xb3")]=function(){};var t=d.db[_0x522f("0xb3")];t.myname="emarket.db.orders";var s=[];t[_0x522f("0x6")]=function(x){if(!d.db.db[_0x522f("0x31")])return s=[],void x({result:"ok"});d.db.db[_0x522f("0x35")](function(x){d.db.db.db[_0x522f("0x89")](function(){d.db.db.db[_0x522f("0x8a")](_0x522f("0xb4")),d.db.db.db[_0x522f("0x8a")]("CREATE INDEX IF NOT EXISTS orders_contractAddress_idx ON orders (contractAddress ASC)"),d.db.db.db[_0x522f("0x8a")](_0x522f("0xb5")),d.db.db.db[_0x522f("0x8a")]("CREATE INDEX IF NOT EXISTS orders_sender_idx ON orders (sender ASC)"),d.db.db.db[_0x522f("0x8a")]("CREATE INDEX IF NOT EXISTS orders_recipient_idx ON orders (recipient ASC)"),d.db.db.db[_0x522f("0x8a")](_0x522f("0xb6")),d.db.db.db[_0x522f("0x8a")]("CREATE INDEX IF NOT EXISTS orders_blockNumber_idx ON orders (blockNumber ASC)"),d.db.db.db[_0x522f("0x8a")](_0x522f("0xb7")),d.db.db.db[_0x522f("0x8a")](_0x522f("0xb8")),x({result:"ok"})})},x)},t[_0x522f("0x92")]=function(x,e){if(!d.db.db[_0x522f("0x31")])return s[_0x522f("0x93")](x),void e({result:"ok"});d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0x8a")](_0x522f("0xb9"),[x[_0x522f("0x94")],x[_0x522f("0x95")],x[_0x522f("0x96")],x[_0x522f("0x97")],x[_0x522f("0x98")],x.recipient,x[_0x522f("0x99")],x[_0x522f("0x9a")],x[_0x522f("0x9b")],x[_0x522f("0xba")],x[_0x522f("0x9d")]],function(x){e(x?{result:_0x522f("0x36"),error:x}:{result:"ok"})})},e)},t.select=function(x){var e={};if(!d.db.db[_0x522f("0x31")]){var f=s;return e.result="ok",e[_0x522f("0xa2")]=f,void x(e)}d.db.db[_0x522f("0x35")](function(x){d.db.db.db[_0x522f("0xa3")](_0x522f("0xbb"),[],function(f,d){if(f)return console[_0x522f("0x33")](_0x522f("0xbc")),void x({result:_0x522f("0x36"),error:f});e[_0x522f("0xa1")]="ok",e.items=d,x(e)})},x)},t.selectWithAddressAndTradeId=function(x,e,f){var t={};if(!d.db.db[_0x522f("0x31")]){for(var r=s,i=[],n=0;n<r.length;n++){var _=r[n];_.contractAddress==x&&(_[_0x522f("0xba")]==e&&i.push(_))}return r=i,t[_0x522f("0xa1")]="ok",t.items=r,void f(t)}d.db.db.use(function(f){d.db.db.db[_0x522f("0xa3")](_0x522f("0xbd"),[x,e],function(x,e){x?f({result:_0x522f("0x36"),error:x}):(t.result="ok",t.items=e,f(t))})},f)},t[_0x522f("0xbe")]=function(x,e){var f={};if(!d.db.db[_0x522f("0x31")]){for(var t=s,r=[],i=0;i<t[_0x522f("0x9f")];i++){var n=t[i];n[_0x522f("0xba")]==x&&r[_0x522f("0x93")](n)}return t=r,f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=t,void e(f)}d.db.db.use(function(e){d.db.db.db[_0x522f("0xa3")](_0x522f("0xbf"),[x],function(x,d){x?e({result:_0x522f("0x36"),error:x}):(f[_0x522f("0xa1")]="ok",f.items=d,e(f))})},e)},t.selectWithAddressAndEventType=function(x,e,f){var t={};if(!d.db.db[_0x522f("0x31")]){for(var r=s,i=[],n=0;n<r.length;n++){var _=r[n];_[_0x522f("0xa0")]==x&&(_.eventType==e&&i.push(_))}return r=i,t[_0x522f("0xa1")]="ok",t[_0x522f("0xa2")]=r,void f(t)}d.db.db[_0x522f("0x35")](function(f){d.db.db.db[_0x522f("0xa3")](_0x522f("0xc0"),[x,e],function(x,e){x?f({result:_0x522f("0x36"),error:x}):(t.result="ok",t[_0x522f("0xa2")]=e,f(t))})},f)},x[_0x522f("0x0")]=t},,,,,function(x,e,f){var d={};d.defaults=f(0),d[_0x522f("0x38")]=f(2),d.db={},d.db.db=f(1),d.db[_0x522f("0xc1")]=function(){};var t=d.db.listings;t[_0x522f("0xad")]=_0x522f("0xc2");var s=[];t[_0x522f("0x6")]=function(x){if(!d.db.db.useSqlite)return s=[],void x({result:"ok"});d.db.db[_0x522f("0x35")](function(x){d.db.db.db[_0x522f("0x89")](function(){d.db.db.db[_0x522f("0x8a")](_0x522f("0xc3")),d.db.db.db[_0x522f("0x8a")](_0x522f("0xc4")),d.db.db.db[_0x522f("0x8a")](_0x522f("0xc5")),d.db.db.db.run("CREATE INDEX IF NOT EXISTS listings_sender_idx ON listings (sender ASC)"),d.db.db.db.run("CREATE INDEX IF NOT EXISTS listings_version_idx ON listings (version ASC)"),d.db.db.db[_0x522f("0x8a")]("CREATE INDEX IF NOT EXISTS listings_blockNumber_idx ON listings (blockNumber ASC)"),d.db.db.db[_0x522f("0x8a")]("CREATE INDEX IF NOT EXISTS listings_timestamp_idx ON listings (timestamp ASC)"),d.db.db.db.run(_0x522f("0xc6")),d.db.db.db[_0x522f("0x8a")](_0x522f("0xc7")),d.db.db.db[_0x522f("0x8a")](_0x522f("0xc8")),d.db.db.db[_0x522f("0x8a")](_0x522f("0xc9")),d.db.db.db[_0x522f("0x8a")](_0x522f("0xca")),d.db.db.db[_0x522f("0x8a")](_0x522f("0xcb")),d.db.db.db[_0x522f("0x8a")]("CREATE INDEX IF NOT EXISTS listings_currency_idx ON listings (currency ASC)"),d.db.db.db[_0x522f("0x8a")](_0x522f("0xcc")),d.db.db.db[_0x522f("0x8a")](_0x522f("0xcd")),d.db.db.db.run("CREATE INDEX IF NOT EXISTS listings_escrow_idx ON listings (escrow ASC)"),d.db.db.db.run(_0x522f("0xce")),d.db.db.db.run("CREATE INDEX IF NOT EXISTS listings_price_idx ON listings (price ASC)"),d.db.db.db[_0x522f("0x8a")](_0x522f("0xcf")),d.db.db.db[_0x522f("0x8a")](_0x522f("0xd0")),d.db.db.db[_0x522f("0x8a")](_0x522f("0xd1")),d.db.db.db[_0x522f("0x8a")]("CREATE INDEX IF NOT EXISTS listings_hashIpfs_idx ON listings (hashIpfs ASC)"),d.db.db.db[_0x522f("0x8a")]("CREATE INDEX IF NOT EXISTS listings_addressIpfs_idx ON listings (addressIpfs ASC)"),x({result:"ok"})})},x)},t.insert=function(x,e){if(!d.db.db[_0x522f("0x31")])return s[_0x522f("0x93")](x),void e({result:"ok"});d.db.db.use(function(e){d.db.db.db.run(_0x522f("0xd2"),[x[_0x522f("0x95")],x[_0x522f("0xd3")],x.sender,x[_0x522f("0x97")],x[_0x522f("0x9a")],x[_0x522f("0x9b")],x[_0x522f("0xd4")],x.endTimestamp,x[_0x522f("0xd5")],x[_0x522f("0xd6")],x[_0x522f("0x56")],x[_0x522f("0xd7")],x.currency,x[_0x522f("0xd8")],x[_0x522f("0xd9")],x[_0x522f("0xda")],x[_0x522f("0xdb")],x[_0x522f("0xdc")],x[_0x522f("0xdd")],x[_0x522f("0xde")],x[_0x522f("0xdf")],x.hashIpfs,x[_0x522f("0xe0")],x[_0x522f("0x9d")]],function(x){e(x?{result:"error",error:x}:{result:"ok"})})},e)},t[_0x522f("0xe1")]=function(x,e){d.db.db[_0x522f("0x31")]?d.db.db.db[_0x522f("0x8a")]("DELETE from listings where address = ?",[x.address],function(x){e(x?{result:_0x522f("0x36"),error:x}:{result:"ok"})}):e({result:"ok"})},t[_0x522f("0xb0")]=function(x){var e={};if(!d.db.db[_0x522f("0x31")]){var f=s;return e[_0x522f("0xa1")]="ok",e[_0x522f("0xa2")]=f,void x(e)}d.db.db.use(function(x){d.db.db.db.all(_0x522f("0xe2"),[],function(f,d){f?x({result:_0x522f("0x36"),error:f}):(e.result="ok",e[_0x522f("0xa2")]=d,x(e))})},x)},t.selectWithAddress=function(x,e){var f={};if(!d.db.db.useSqlite){for(var t=s,r=[],i=0;i<t[_0x522f("0x9f")];i++){var n=t[i];n[_0x522f("0xe3")]==x&&r[_0x522f("0x93")](n)}return t=r,f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=t,void e(f)}d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0xa3")](_0x522f("0xe4"),[x],function(x,d){x?e({result:"error",error:x}):(f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=d,e(f))})},e)},t[_0x522f("0xe5")]=function(x,e){var f={};if(!d.db.db[_0x522f("0x31")]){for(var t=s,r=[],i=0;i<t[_0x522f("0x9f")];i++){var n=t[i];n[_0x522f("0x98")]==x&&r.push(n)}return t=r,f.result="ok",f[_0x522f("0xa2")]=t,void e(f)}d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0xa3")]("SELECT * FROM listings WHERE sender = ? ORDER BY rowid ASC",[x],function(x,d){x?e({result:_0x522f("0x36"),error:x}):(f[_0x522f("0xa1")]="ok",f.items=d,e(f))})},e)},t[_0x522f("0xe6")]=function(x,e,f,t){var r={};if(!d.db.db[_0x522f("0x31")]){for(var i=s,n=[],_=0;_<i[_0x522f("0x9f")];_++){var a=i[_];a[_0x522f("0xe7")]==x&&(a.addressIpfs==e&&a[_0x522f("0x98")]==f&&n[_0x522f("0x93")](a))}return i=n,r[_0x522f("0xa1")]="ok",r.items=i,void t(r)}d.db.db[_0x522f("0x35")](function(t){d.db.db.db.all("SELECT * FROM listings WHERE hashIpfs = ? AND addressIpfs = ? AND sender = ? ORDER BY rowid ASC",[x,e,f],function(x,e){x?t({result:_0x522f("0x36"),error:x}):(r.result="ok",r.items=e,t(r))})},t)},t[_0x522f("0xe8")]=function(x,e){var f={};if(!d.db.db[_0x522f("0x31")]){var t=s;return f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=t,void e(f)}d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0xa3")]("SELECT listings.* FROM listings JOIN orders ON listings.address = orders.contractAddress COLLATE NOCASE "+_0x522f("0xe9")+"COLLATE NOCASE Group by listings.address",[x],function(x,d){x?e({result:"error",error:x}):(f[_0x522f("0xa1")]="ok",f.items=d,e(f))})},e)},t.selectSelectedStore=function(x,e){var f={},t=x;if(!d.db.db[_0x522f("0x31")]){var r=s;return f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=r,void e(f)}d.db.db[_0x522f("0x35")](function(x){var e=_0x522f("0xea")+t.map(x=>'"'+x+'"')+")";d.db.db.db[_0x522f("0xa3")](e,function(e,d){e?x({result:_0x522f("0x36"),error:e}):(f[_0x522f("0xa1")]="ok",f.items=d,x(f))})},e)},x[_0x522f("0x0")]=t},function(x,e,f){var d={db:{}};d.db.db=f(1),d.db[_0x522f("0xeb")]=function(){};var t=d.db.transactionLog;t.myname="emarket.db.transactionLog",t[_0x522f("0x6")]=function(x){d.db.db[_0x522f("0x35")](function(x){d.db.db.db[_0x522f("0x89")](function(){d.db.db.db.run(_0x522f("0xec")),x({result:"ok"})})},x)},t.insert=function(x,e){d.db.db.use(function(e){d.db.db.db[_0x522f("0x8a")]("INSERT OR REPLACE INTO transactionLog VALUES (?, ?, ?, ?, ?, ?, ?)",[x[_0x522f("0xd3")],x[_0x522f("0xdb")],x.id,x[_0x522f("0x9b")],x[_0x522f("0xb1")],x.hash,x[_0x522f("0x9d")]],function(x){e(x?{result:_0x522f("0x36"),error:x}:{result:"ok"})})},e)},t[_0x522f("0xed")]=function(x){var e={};d.db.db.use(function(x){d.db.db.db[_0x522f("0xa3")](_0x522f("0xee"),[],function(f,d){if(f)return console[_0x522f("0x33")](_0x522f("0xbc")),void x({result:_0x522f("0x36"),error:f});e[_0x522f("0xa1")]="ok",e.items=d,x(e)})},x)},t.getLastUnfinished=function(x){var e={};d.db.db.use(function(x){d.db.db.db[_0x522f("0xa3")]("SELECT * FROM transactionLog WHERE status = ? ORDER BY timestamp DESC",[_0x522f("0xef")],function(f,d){if(f)return console.log("WE have an error here"),void x({result:"error",error:f});e[_0x522f("0xa1")]="ok",e.items=d,x(e)})},x)},t[_0x522f("0xf0")]=function(x){var e={};d.db.db[_0x522f("0x35")](function(x){d.db.db.db.all(_0x522f("0xf1"),[],function(f,d){if(f)return console.log(_0x522f("0xbc")),void x({result:"error",error:f});e.result="ok",x(e)})},x)},x[_0x522f("0x0")]=t},,function(x,e,f){var d={};d[_0x522f("0xc")]=f(0),d.testdata=f(2),d.db={},d.db.db=f(1),d.db[_0x522f("0xf2")]=function(){};var t=d.db[_0x522f("0xf2")];t.myname="emarket.db.feedbbt";var s=[];t.create=function(x){if(!d.db.db.useSqlite)return s=[],void x({result:"ok"});d.db.db[_0x522f("0x35")](function(x){d.db.db.db[_0x522f("0x89")](function(){d.db.db.db[_0x522f("0x8a")]('CREATE TABLE IF NOT EXISTS feedbbt (          transactionHash VARCHAR(70) PRIMARY KEY NOT NULL,          blockNumber INTEGER NOT NULL DEFAULT 0,          timestamp INTEGER NOT NULL DEFAULT 0,          payment VARCHAR(40) NOT NULL DEFAULT "0")'),d.db.db.db[_0x522f("0x8a")](_0x522f("0xf3")),d.db.db.db[_0x522f("0x8a")](_0x522f("0xf4")),x({result:"ok"})})},x)},t[_0x522f("0x92")]=function(x,e){if(!d.db.db.useSqlite)return s[_0x522f("0x93")](x),void e({result:"ok"});d.db.db[_0x522f("0x35")](function(e){d.db.db.db.run(_0x522f("0xf5"),[x.transactionHash,x[_0x522f("0x9a")],x.timestamp,x[_0x522f("0x9c")]],function(x){e(x?{result:_0x522f("0x36"),error:x}:{result:"ok"})})},e)},t.selectWithHash=function(x,e){var f={};if(!d.db.db[_0x522f("0x31")]){for(var t=s,r=[],i=0;i<t[_0x522f("0x9f")];i++){var n=t[i];n[_0x522f("0x94")]==x&&r[_0x522f("0x93")](n)}return t=r,f.result="ok",f[_0x522f("0xa2")]=t,void e(f)}d.db.db.use(function(e){d.db.db.db[_0x522f("0xa3")](_0x522f("0xf6"),[x],function(x,d){x?e({result:_0x522f("0x36"),error:x}):(f[_0x522f("0xa1")]="ok",f.items=d,e(f))})},e)},t.select=function(x){var e={};if(!d.db.db[_0x522f("0x31")]){var f=s;return e.result="ok",e[_0x522f("0xa2")]=f,void x(e)}d.db.db[_0x522f("0x35")](function(x){d.db.db.db[_0x522f("0xa3")]("SELECT * FROM feedbbt ORDER BY rowid ASC",function(f,d){f?x({result:"error",error:f}):(e[_0x522f("0xa1")]="ok",e.items=d,x(e))})},x)},t[_0x522f("0xf7")]=function(x,e){var f={};if(!d.db.db[_0x522f("0x31")]){var t=s;for(var r in t){if(r[_0x522f("0x9a")]>x)break;f[_0x522f("0x9c")]=r[_0x522f("0x9c")]}return f[_0x522f("0xa1")]="ok",void e(f)}d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0xf8")](_0x522f("0xf9"),[x],function(x,d){x?e({result:_0x522f("0x36"),error:x}):typeof d!==_0x522f("0xfa")?(f[_0x522f("0xa1")]="ok",f.payment=d[_0x522f("0x9c")],e(f)):e({result:_0x522f("0x36"),error:_0x522f("0xfb")})})},e)},x[_0x522f("0x0")]=t},,function(x,e,f){var d={};d[_0x522f("0xc")]=f(0),d[_0x522f("0x38")]=f(2),d.db={},d.db.db=f(1),d.db[_0x522f("0xfc")]=function(){};var t=d.db[_0x522f("0xfc")];t[_0x522f("0xad")]=_0x522f("0xfd");var s={};t[_0x522f("0x6")]=function(x){if(!d.db.db[_0x522f("0x31")])return s={},void x({result:"ok"});d.db.db[_0x522f("0x35")](function(x){d.db.db.db[_0x522f("0x89")](function(){d.db.db.db.run(_0x522f("0xfe")),d.db.db.db[_0x522f("0x8a")](_0x522f("0xff")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x100")),d.db.db.db.run(_0x522f("0x101")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x102")),x({result:"ok"})})},x)},t[_0x522f("0x92")]=function(x,e,f){if(!d.db.db[_0x522f("0x31")])return s[x]=e,void f({result:"ok"});d.db.db[_0x522f("0x35")](function(f){d.db.db.db[_0x522f("0x8a")](_0x522f("0x103"),[x,e[_0x522f("0x104")],e[_0x522f("0x105")],e[_0x522f("0x106")],e.feePromille,e.rewardPromille],function(x){f(x?{result:_0x522f("0x36"),error:x}:{result:"ok"})})},f)},t[_0x522f("0xb0")]=function(x,e){var f={};if(!d.db.db.useSqlite){var t=s;return f[_0x522f("0xa1")]="ok",f[_0x522f("0xb1")]=t[x],void e(f)}d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0xa3")](_0x522f("0x107"),[x],function(d,t){d?e({result:_0x522f("0x36"),error:d}):(f[_0x522f("0xa1")]="ok",t&&0!=t.length?f.item=t[0]:f[_0x522f("0xb1")]={address:x,height:0,arbiter:"",freezePeriod:0,feePromille:0,rewardPromille:0},e(f))})},e)},x[_0x522f("0x0")]=t},,function(x,e,f){var d={db:{}};d.defaults=f(0),d[_0x522f("0x38")]=f(2),d.db.db=f(1),d.db.ipfsListings=function(){};var t=d.db[_0x522f("0x108")];t[_0x522f("0xad")]="emarket.db.ipfsListings";var s=[];t.create=function(x){if(!d.db.db[_0x522f("0x31")])return s=[],void x({result:"ok"});d.db.db[_0x522f("0x35")](function(x){d.db.db.db.serialize(function(){d.db.db.db[_0x522f("0x8a")]('CREATE TABLE IF NOT EXISTS ipfsListings (          hashIpfs VARCHAR(65) NOT NULL,          addressIpfs VARCHAR(50) NOT NULL DEFAULT "1",          title TEXT NOT NULL DEFAULT "",           sender VARCHAR(50) NOT NULL DEFAULT "",          version INTEGER NOT NULL DEFAULT 0,          blockNumber INTEGER NOT NULL DEFAULT 0,          timestamp INTEGER NOT NULL DEFAULT 0,          timespan INTEGER NOT NULL DEFAULT 0,          endTimestamp INTEGER NOT NULL DEFAULT 0,          category VARCHAR(40) NOT NULL DEFAULT "",           tag1 VARCHAR(40) NOT NULL DEFAULT "",           tag2 VARCHAR(40) NOT NULL DEFAULT "",           tag3 VARCHAR(40) NOT NULL DEFAULT "",           currency VARCHAR(40) NOT NULL DEFAULT "",          region VARCHAR(100) NOT NULL DEFAULT "",          origin VARCHAR(40) NOT NULL DEFAULT "",          escrow VARCHAR(40) NOT NULL DEFAULT "",          status INTEGER NOT NULL DEFAULT 0,          price VARCHAR(40) NOT NULL DEFAULT "0",           saleCount INTEGER NOT NULL DEFAULT 0,          payload TEXT NOT NULL DEFAULT "",          PRIMARY KEY(hashIpfs, addressIpfs))'),d.db.db.db.run(_0x522f("0x109")),d.db.db.db.run(_0x522f("0x10a")),d.db.db.db.run(_0x522f("0x10b")),d.db.db.db.run(_0x522f("0x10c")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x10d")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x10e")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x10f")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x110")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x111")),d.db.db.db.run(_0x522f("0x112")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x113")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x114")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x115")),d.db.db.db[_0x522f("0x8a")]("CREATE INDEX IF NOT EXISTS ipfsListings_currency_idx ON ipfsListings (currency ASC)"),d.db.db.db[_0x522f("0x8a")](_0x522f("0x116")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x117")),d.db.db.db[_0x522f("0x8a")]("CREATE INDEX IF NOT EXISTS ipfsListings_escrow_idx ON ipfsListings (escrow ASC)"),d.db.db.db.run(_0x522f("0x118")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x119")),d.db.db.db.run(_0x522f("0x11a")),x({result:"ok"})})},x)},t[_0x522f("0x92")]=function(x,e){if(!d.db.db[_0x522f("0x31")])return s[_0x522f("0x93")](x),void e({result:"ok"});d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0x8a")]("INSERT OR REPLACE INTO ipfsListings VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[x.hashIpfs,x[_0x522f("0xe0")],x.title,x[_0x522f("0x98")],x.version,x[_0x522f("0x9a")],x[_0x522f("0x9b")],x[_0x522f("0xd4")],x[_0x522f("0x11b")],x[_0x522f("0xd5")],x[_0x522f("0xd6")],x[_0x522f("0x56")],x[_0x522f("0xd7")],x[_0x522f("0x11c")],x.region,x[_0x522f("0xd9")],x[_0x522f("0xda")],x[_0x522f("0xdb")],x[_0x522f("0xdc")],x.saleCount,x.payload],function(x){e(x?{result:"error",error:x}:{result:"ok"})})},e)},t[_0x522f("0xb0")]=function(x){var e={};if(!d.db.db[_0x522f("0x31")]){var f=s;return e[_0x522f("0xa1")]="ok",e[_0x522f("0xa2")]=f,void x(e)}d.db.db.use(function(x){d.db.db.db.all(_0x522f("0x11d"),[],function(f,d){f?x({result:_0x522f("0x36"),error:f}):(e[_0x522f("0xa1")]="ok",e.items=d,x(e))})},x)},t[_0x522f("0xe5")]=function(x,e){var f={};if(!d.db.db[_0x522f("0x31")]){var t=s;return f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=t,void e(f)}d.db.db[_0x522f("0x35")](function(e){d.db.db.db.all(_0x522f("0x11e"),[x],function(x,d){x?e({result:_0x522f("0x36"),error:x}):(f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=d,e(f))})},e)},t[_0x522f("0x11f")]=function(x,e){var f={};if(!d.db.db.useSqlite){for(var t=s,r=[],i=0;i<t[_0x522f("0x9f")];i++){var n=t[i];n.hashIpfs==hashData&&r[_0x522f("0x93")](n)}return t=r,f.result="ok",f[_0x522f("0xa2")]=t,void e(f)}var _="";x[_0x522f("0x120")]((e,f)=>{x[f]='"'+e+'"'}),_+=x[_0x522f("0x2d")](","),console[_0x522f("0x33")](_0x522f("0x121"),_),d.db.db[_0x522f("0x35")](function(x){d.db.db.db[_0x522f("0xa3")](_0x522f("0x122")+_+")",[],function(e,d){e?x({result:_0x522f("0x36"),error:e}):(f.result="ok",f[_0x522f("0xa2")]=d,x(f))})},e)},t[_0x522f("0xa5")]=function(x,e){var f={};if(!d.db.db[_0x522f("0x31")]){for(var t=s,r=[],i=0;i<t[_0x522f("0x9f")];i++){var n=t[i];n[_0x522f("0xe7")]==x&&r[_0x522f("0x93")](n)}return t=r,f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=t,void e(f)}d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0xa3")](_0x522f("0x123"),[x],function(x,d){x?e({result:_0x522f("0x36"),error:x}):(f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=d,e(f))})},e)},t[_0x522f("0x9e")]=function(x,e,f){var t={};if(!d.db.db[_0x522f("0x31")]){for(var r=s,i=[],n=0;n<r[_0x522f("0x9f")];n++){var _=r[n];_.hashIpfs==x&&(_.adressIpfs==e&&i[_0x522f("0x93")](_))}return r=i,t.result="ok",t[_0x522f("0xa2")]=r,void f(t)}d.db.db[_0x522f("0x35")](function(f){d.db.db.db[_0x522f("0xa3")](_0x522f("0x124"),[x,e],function(x,e){x?f({result:_0x522f("0x36"),error:x}):(t[_0x522f("0xa1")]="ok",t[_0x522f("0xa2")]=e,f(t))})},f)},t[_0x522f("0xe5")]=function(x,e){var f={};if(!d.db.db.useSqlite){for(var t=s,r=[],i=0;i<t[_0x522f("0x9f")];i++){var n=t[i];n[_0x522f("0x98")]==x&&r[_0x522f("0x93")](n)}return t=r,f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=t,void e(f)}d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0xa3")](_0x522f("0x125"),[x],function(x,d){x?e({result:_0x522f("0x36"),error:x}):(f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=d,e(f))})},e)},t[_0x522f("0xe8")]=function(x,e){var f={};d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0xa3")](_0x522f("0x126"),[x],function(x,d){x?e({result:"error",error:x}):(f.result="ok",f.items=d,e(f))})},e)},t[_0x522f("0x127")]=function(x,e){var f={},t=x;if(!d.db.db[_0x522f("0x31")]){var r=s;return f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=r,void e(f)}d.db.db[_0x522f("0x35")](function(x){var e=_0x522f("0x128")+t[_0x522f("0x129")](x=>'"'+x+'"')+")";d.db.db.db[_0x522f("0xa3")](e,function(e,d){e?x({result:"error",error:e}):(f.result="ok",f[_0x522f("0xa2")]=d,x(f))})},e)},x[_0x522f("0x0")]=t},function(x,e,f){var d={};d[_0x522f("0xc")]=f(0),d[_0x522f("0x38")]=f(2),d.db={},d.db.db=f(1),d.db[_0x522f("0x12a")]=function(){};var t=d.db[_0x522f("0x12a")];t[_0x522f("0xad")]=_0x522f("0x12b"),t[_0x522f("0x6")]=function(x){d.db.db.use(function(x){d.db.db.db[_0x522f("0x89")](function(){d.db.db.db[_0x522f("0x8a")](_0x522f("0x12c")),d.db.db.db.run(_0x522f("0x12d")),x({result:"ok"})})},x)},t[_0x522f("0x92")]=function(x,e){d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0x8a")](_0x522f("0x12e"),[x[_0x522f("0x95")],x[_0x522f("0x12f")]],function(x){e(x?{result:"error",error:x}:{result:"ok"})})},e)},t[_0x522f("0xe5")]=function(x,e){d.db.db.use(function(e){d.db.db.db[_0x522f("0xa3")]("SELECT storename FROM storenames WHERE address = ?",[x],function(x,f){e(x?{result:"error",error:x}:{result:"ok",items:f})})},e)},t[_0x522f("0xb0")]=function(x){var e={};d.db.db[_0x522f("0x35")](function(x){d.db.db.db[_0x522f("0xa3")](_0x522f("0x130"),[],function(f,d){f?x({result:_0x522f("0x36"),error:f}):(e[_0x522f("0xa1")]="ok",e[_0x522f("0xa2")]=d,x(e))})},x)},x[_0x522f("0x0")]=t},function(x,e,f){var d={};d[_0x522f("0xc")]=f(0),d[_0x522f("0x38")]=f(2),d.db={},d.db.db=f(1),d.db.anns=function(){};var t=d.db[_0x522f("0x131")];t[_0x522f("0xad")]="emarket.db.anns";var s=[];t[_0x522f("0x6")]=function(x){if(!d.db.db.useSqlite)return s=[],void x({result:"ok"});d.db.db[_0x522f("0x35")](function(x){d.db.db.db.serialize(function(){d.db.db.db[_0x522f("0x8a")](_0x522f("0x132")),d.db.db.db.run(_0x522f("0x133")),x({result:"ok"})})},x)},t.insert=function(x,e){if(!d.db.db[_0x522f("0x31")])return s[_0x522f("0x93")](x),void e({result:"ok"});d.db.db[_0x522f("0x35")](function(e){d.db.db.db.run(_0x522f("0x134"),[x.address,x.blockNumber,x.payload],function(x){e(x?{result:_0x522f("0x36"),error:x}:{result:"ok"})})},e)},t[_0x522f("0xb0")]=function(x){var e={};if(!d.db.db[_0x522f("0x31")]){var f=s;return e.result="ok",e.items=f,void x(e)}d.db.db.use(function(x){d.db.db.db[_0x522f("0xa3")](_0x522f("0x135"),[],function(f,d){f?x({result:_0x522f("0x36"),error:f}):(e[_0x522f("0xa1")]="ok",e.items=d,x(e))})},x)},x[_0x522f("0x0")]=t},,,function(x,e,f){var d={db:{}};d.defaults=f(0),d[_0x522f("0x38")]=f(2),d.db.db=f(1),d.db[_0x522f("0x136")]=function(){};var t=d.db[_0x522f("0x136")];t[_0x522f("0xad")]=_0x522f("0x137");var s={};t[_0x522f("0x6")]=function(x){if(!d.db.db.useSqlite)return s={},void x({result:"ok"});d.db.db[_0x522f("0x35")](function(x){d.db.db.db[_0x522f("0x89")](function(){d.db.db.db.run('CREATE TABLE IF NOT EXISTS ipfsHashes (          hashData VARCHAR(65) PRIMARY KEY NOT NULL,          sender VARCHAR(50) NOT NULL DEFAULT "",          version INTEGER NOT NULL DEFAULT 0,          blockNumber INTEGER NOT NULL DEFAULT 0,          timestamp INTEGER NOT NULL DEFAULT 0)'),d.db.db.db.run(_0x522f("0x138")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x139")),d.db.db.db.run(_0x522f("0x13a")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x13b")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x13c")),x({result:"ok"})})},x)},t.insert=function(x,e){if(!d.db.db.useSqlite)return s[x[_0x522f("0x13d")]]={hashData:x[_0x522f("0x13d")],sender:x[_0x522f("0x98")]},void e({result:"ok"});d.db.db.use(function(e){d.db.db.db[_0x522f("0x8a")]("INSERT OR REPLACE INTO ipfsHashes VALUES (?, ?, ?, ?, ?)",[x[_0x522f("0x13d")],x.sender,x.version,x[_0x522f("0x9a")],x.timestamp],function(x){e(x?{result:_0x522f("0x36"),error:x}:{result:"ok"})})},e)},t[_0x522f("0xb0")]=function(x){var e={};if(!d.db.db.useSqlite){var f=[];for(var t in s)s[_0x522f("0xa")](t)&&f[_0x522f("0x93")](s[t]);return e[_0x522f("0xa1")]="ok",e.items=f,void x(e)}d.db.db[_0x522f("0x35")](function(x){d.db.db.db[_0x522f("0xa3")](_0x522f("0x13e"),[],function(f,d){f?x({result:_0x522f("0x36"),error:f}):(e[_0x522f("0xa1")]="ok",e[_0x522f("0xa2")]=d,x(e))})},x)},t[_0x522f("0xa5")]=function(x,e){var f={};if(!d.db.db[_0x522f("0x31")]){var t=[];return s[x]&&t.push(s[x]),f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=t,void e(f)}d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0xa3")](_0x522f("0x13f"),[x],function(x,d){x?e({result:_0x522f("0x36"),error:x}):(f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=d,e(f))})},e)},t[_0x522f("0xe5")]=function(x,e){var f={};if(!d.db.db[_0x522f("0x31")]){var t=[];for(var r in s)if(s[_0x522f("0xa")](r)){var i=s[r];i[_0x522f("0x98")]==x&&t[_0x522f("0x93")](i)}return f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=t,void e(f)}d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0xa3")]("SELECT * FROM ipfsHashes WHERE sender = ? ORDER BY rowid ASC",[x],function(x,d){x?e({result:_0x522f("0x36"),error:x}):(f[_0x522f("0xa1")]="ok",f[_0x522f("0xa2")]=d,e(f))})},e)},x[_0x522f("0x0")]=t},,,,,,,,,function(x,e,f){var d={};d.defaults=f(0),d[_0x522f("0x38")]=f(2),d.db={},d.db.db=f(1),d.db[_0x522f("0x140")]=function(){};var t=d.db[_0x522f("0x140")];t.myname=_0x522f("0x141");var s={};t.create=function(x){if(!d.db.db[_0x522f("0x31")])return s={},void x({result:"ok"});d.db.db[_0x522f("0x35")](function(x){d.db.db.db.serialize(function(){d.db.db.db.run(_0x522f("0x142")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x143")),x({result:"ok"})})},x)},t[_0x522f("0x92")]=function(x,e,f){if(!d.db.db[_0x522f("0x31")])return s[x]=e,void f({result:"ok"});d.db.db.use(function(f){d.db.db.db[_0x522f("0x8a")](_0x522f("0x144"),[x,e[_0x522f("0x145")],e[_0x522f("0x146")]],function(x){f(x?{result:_0x522f("0x36"),error:x}:{result:"ok"})})},f)},t[_0x522f("0xb0")]=function(x,e){var f={};if(!d.db.db[_0x522f("0x31")]){var t=s;return f[_0x522f("0xa1")]="ok",f[_0x522f("0xb1")]=t[x],void e(f)}d.db.db[_0x522f("0x35")](function(e){d.db.db.db[_0x522f("0xa3")](_0x522f("0x147"),[x],function(d,t){d?e({result:_0x522f("0x36"),error:d}):(f[_0x522f("0xa1")]="ok",t&&0!=t.length?f[_0x522f("0xb1")]=t[0]:f[_0x522f("0xb1")]={address:x,blacklisted:!1},e(f))})},e)},x[_0x522f("0x0")]=t},function(x,e,f){var d={};d[_0x522f("0xc")]=f(0),d.testdata=f(2),d.db={},d.db.db=f(1),d.db[_0x522f("0x148")]=function(){};var t=d.db[_0x522f("0x148")];t[_0x522f("0xad")]=_0x522f("0x149"),t[_0x522f("0x6")]=function(x){d.db.db.use(function(x){d.db.db.db[_0x522f("0x89")](function(){d.db.db.db[_0x522f("0x8a")](_0x522f("0x14a")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x14b")),d.db.db.db[_0x522f("0x8a")](_0x522f("0x14c")),x({result:"ok"})})},x)},t[_0x522f("0x92")]=function(x,e){d.db.db[_0x522f("0x35")](function(e){var f=new Date;d.db.db.db.run(_0x522f("0x14d"),[x[0],x[1],x[2],f],function(x){e(x?{result:_0x522f("0x36"),error:x}:{result:"ok"})})},e)},t.select=function(x,e){var f=x[_0x522f("0x14e")],t={};d.db.db[_0x522f("0x35")](function(x){d.db.db.db.all(_0x522f("0x14f"),[f],function(e,f){if(e)return console[_0x522f("0x33")]("WE have an error here"),void x({result:_0x522f("0x36"),error:e});t[_0x522f("0xa2")]=f,x(t)})},e)},x[_0x522f("0x0")]=t},,,,,,,,,,,,,,,,,,,,,function(x,e,f){var d={};d[_0x522f("0x25")]=f(6),d[_0x522f("0x87")]=f(3);var t={};t.defaults=f(0),t[_0x522f("0x38")]=f(2),t.db={},t.db.db=f(1),t.db[_0x522f("0x88")]=f(10),t.db.contracts=f(18),t.db[_0x522f("0x131")]=f(34),t.db.listings=f(25),t.db[_0x522f("0xb3")]=f(20),t.db[_0x522f("0xeb")]=f(26),t.db[_0x522f("0x140")]=f(46),t.db[_0x522f("0xf2")]=f(28),t.db[_0x522f("0xfc")]=f(30),t.db[_0x522f("0x148")]=f(47),t.db[_0x522f("0x136")]=f(37),t.db[_0x522f("0x108")]=f(32),t.db[_0x522f("0x12a")]=f(33),t.db[_0x522f("0x150")]=function(){};var s=t.db[_0x522f("0x150")];s[_0x522f("0xad")]=_0x522f("0x151"),s[_0x522f("0x32")]=function(x,e){t.db.db[_0x522f("0x32")](x),function(x){console[_0x522f("0x33")](_0x522f("0x155"));var e=[t.db[_0x522f("0x88")][_0x522f("0x6")],t.db[_0x522f("0xac")].create,t.db[_0x522f("0x131")][_0x522f("0x6")],t.db[_0x522f("0xc1")][_0x522f("0x6")],t.db[_0x522f("0xb3")][_0x522f("0x6")],t.db[_0x522f("0xeb")][_0x522f("0x6")],t.db[_0x522f("0x140")][_0x522f("0x6")],t.db[_0x522f("0xf2")].create,t.db[_0x522f("0xfc")].create,t.db.transactions[_0x522f("0x6")],t.db[_0x522f("0x136")][_0x522f("0x6")],t.db.ipfsListings.create,t.db.storenames.create],f={total:e[_0x522f("0x9f")],processed:0,skipped:0};d.async[_0x522f("0x153")](e,function(x,e){x(function(x){f[_0x522f("0x154")]++,e(null,!0)})},function(e,d){x(e||{result:"ok",processed:f.processed})})}(function(x){if("ok"==x[_0x522f("0xa1")])if(t.defaults[_0x522f("0x152")]){var f={total:t[_0x522f("0x38")].allListings[_0x522f("0x9f")],processed:0,skipped:0};d[_0x522f("0x87")][_0x522f("0x153")](t[_0x522f("0x38")][_0x522f("0x3a")],function(x,e){console[_0x522f("0x33")](_0x522f("0xb1"),x),x[_0x522f("0x97")]=t[_0x522f("0xc")][_0x522f("0x11")],x[_0x522f("0x9a")]=x[_0x522f("0x104")],t.db[_0x522f("0xc1")][_0x522f("0x92")](x,function(x){f[_0x522f("0x154")]++,e(null,!0)})},function(x,d){e(x||{result:"ok",processed:f[_0x522f("0x154")]})})}else e(x);else e(x)})},x[_0x522f("0x0")]=s}]);